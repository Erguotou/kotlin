if (!project.hasProperty("rootBuildDirectory")) {
    throw new GradleException('Please ensure the "rootBuildDirectory" property is defined before applying this script.')
}

ext.distDir = file("$rootBuildDirectory/dist")

def rootProperties = new Properties()
def rootDir = file(rootBuildDirectory).absolutePath
def propertyFile = file("$rootDir/gradle.properties")
propertyFile.withReader {
    rootProperties.load(it)
}
println(propertyFile.absolutePath)
rootProperties.each { k, v ->
    println("[$k] = $v")
    if (!project.hasProperty(k)) {
        ext.set(k, v)
    }
}
